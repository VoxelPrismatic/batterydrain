<!DOCTYPE html>
<html>
    <body style="background-color: #122; color: #0ff;">
        <h1>#] BATTERY DRAIN TEST</h1>
        <h3>How it works:</h3>
        <pre style="color:#ccc">
<span style="color:#888">
/* Go down 50 levels and start a while loop *
 * that never ends and does nothing. Print  *
 * out that level, and make sure a new loop *
 * starts every one second. Basically, not  *
 * fun for your device. Do it with 16 tabs. */
</span>
<span style="color:#0f0">function</span> <span style="color:#44f">loop</span>(level = <span style="color:#f80">1</span>) {
    <span style="color:#f44">console</span>.<span style="color:#44f">log</span>(level);
    <span style="color:#f44">window</span>.<span style="color:#44f">setInterval</span>(loop, <span style="color:#f80">1000</span>);
    <span style="color:#0f8">while</span>(level &lt; <span style="color:#f80">50</span>) {
        <span style="color:#44f">loop</span>(level + <span style="color:#f80">1</span>);
        <span style="color:#f44">console</span>.<span style="color:#44f">log</span>(level);
        <span style="color:#f44">console</span>.<span style="color:#44f">setInterval</span>(loop, <span style="color:#f80">1000</span>);
    }
}
        </pre>
        <script type="text/javascript">
            function loop(level = 1) {
                console.log(level);
                window.setInterval(loop, 1000);
                while(level < 50) {
                    loop(level + 1);
                    console.log(level);
                    window.setInterval(loop, 1000);
                }
            }
            if(document.URL.includes("?tabnumber=")) {
                var n = Number.parseInt(document.URL.split("?tabnumber=")[1])
                if(n <= 16)
                    window.setTimeout(() => window.open(".?tabnumber=" + (n + 1)), 5000);
                window.setTimeout(loop, n * 8000);
            }
            function start() {
                if(window.confirm("Are you sure you want to do this? [You will not gain access to the tab until the device dies]")) {
                    if(window.confirm("Are you *really* sure? [this will open 16 tabs that all do the same thing]")) {
                        window.setTimeout(() => window.open(".?tabnumber=1"), 1000);
                        window.setTimeout(loop, 64000);
                    }
                }
            }
        </script>
        <button onclick="start()">START TEST</button>
        <div id="warn"></div>
    </body>
</html>
